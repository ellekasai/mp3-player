function initAudio(t){var i=t.attr("song"),a=t.text(),e=t.attr("cover"),u=t.attr("album"),o=t.attr("artist");audio=new Audio("music/"+i),$("#title").text(a),$("#album").text(u),$("#artist").text(o),$("#cover-img").attr("style","background-image: url(images/covers/"+e+")"),$("#playlist li").removeClass("active"),t.addClass("active")}function showDuration(){$(audio).bind("timeupdate",function(){var t=$("#duration"),i=parseInt(audio.currentTime%60),a=parseInt(audio.currentTime/60)%60,e;i<10?t.html(a+":0"+i):t.html(a+":"+i),audio.currentTime>0&&(e=Math.floor(100/audio.duration*audio.currentTime)),$("#progress").css("width",e+"%")})}function showTimeLeft(){$(audio).bind("timeupdate",function(){var t=parseInt(audio.duration),i=parseInt(audio.currentTime),a=t-i,e,u,o;e=a%60,u=Math.floor(a/60)%60,o=Math.floor(a/360)%60,e=e<10?"0"+e:e,u=u<10?"0"+u:u,o=o<10?"0"+o:o,$("#timeleft").html(o+":"+u+":"+e)})}var audio;$("#pause-btn").hide(),initAudio($("#playlist li:first-child")),$("#play-btn").click(function(t){t.preventDefault(),$("#play-btn").hide(),$("#pause-btn").show(),showDuration(),showTimeLeft(),audio.play()}),$("#pause-btn").click(function(t){t.preventDefault(),audio.pause(),$("#play-btn").show(),$("#pause-btn").hide()}),$("#stop-btn").click(function(t){t.preventDefault(),audio.pause(),$("#play-btn").show(),$("#pause-btn").hide(),audio.currentTime=0}),$("#next-btn").click(function(t){t.preventDefault(),audio.pause();var i=$("#playlist li.active").next();0==i.length&&(i=$("#playlist li:first-child")),initAudio(i),showDuration(),showTimeLeft(),audio.play()}),$("#prev-btn").click(function(t){t.preventDefault(),audio.pause();var i=$("#playlist li.active").prev();0==i.length&&(i=$("#playlist li:last-child")),initAudio(i),showDuration(),showTimeLeft(),audio.play()}),$("#volume-slider").change(function(){audio.volume=parseFloat(this.value/10)}),$("#playlist li").click(function(t){t.preventDefault(),audio.pause(),initAudio($(this)),$("#play-btn").hide(),$("#pause-btn").show(),showDuration(),showTimeLeft(),audio.play()});